extends ../index

block title 
    title gestion des produits du catalogue

block contenu_back
    h1 Gestion des produits du catalogue
    .my-3 
        a(href="/admin/catalogue/new" class="btn btn-outline-primary") cr√©er nouveau produit
    table.table.table-striped.align-middle
        thead 
            tr  
                th #id 
                th nom 
                th image
                th prix 
                th en stock 
                th action 
        tbody 
            each produit in produits
                tr 
                    td #{produit._id}
                    td #{produit.nom}
                    td 
                        if(produit.images)
                            img(src=`${produit.images[0]}`, alt="" width="100")
                        else 
                            img(src="https://via.placeholder.com/400x200", alt="" width="100")
                    td #{produit.prix}
                    td 
                        if produit.en_stock
                            span.badge.bg-success en stock 
                        else 
                            span.badge.bg-danger indisponible
                    td 
                        a(href=`/admin/catalogue/update/${produit._id}` class="btn btn-warning me-2 update") update 
                        a(href=`/admin/catalogue/${produit._id}` class="btn btn-danger me-2 delete") delete
    script(src="/back/catalogue.js")